<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>与Linux相关的知识点 | Ming</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/pikachu.jpg">
    <meta name="description" content="Everything will be ok!">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.3a90c97e.css" as="style"><link rel="preload" href="/assets/js/app.d03864eb.js" as="script"><link rel="preload" href="/assets/js/2.75e49976.js" as="script"><link rel="preload" href="/assets/js/12.2d3eb3ab.js" as="script"><link rel="prefetch" href="/assets/js/10.efee02f4.js"><link rel="prefetch" href="/assets/js/11.8177dcdb.js"><link rel="prefetch" href="/assets/js/13.26dfd414.js"><link rel="prefetch" href="/assets/js/14.0444ce56.js"><link rel="prefetch" href="/assets/js/15.475db5c0.js"><link rel="prefetch" href="/assets/js/16.c2b1323e.js"><link rel="prefetch" href="/assets/js/17.ede964ed.js"><link rel="prefetch" href="/assets/js/18.6a682c50.js"><link rel="prefetch" href="/assets/js/3.d35e0266.js"><link rel="prefetch" href="/assets/js/4.d87e94ad.js"><link rel="prefetch" href="/assets/js/5.ba910c58.js"><link rel="prefetch" href="/assets/js/6.2f4d28ba.js"><link rel="prefetch" href="/assets/js/7.ab99c927.js"><link rel="prefetch" href="/assets/js/8.e7b71753.js"><link rel="prefetch" href="/assets/js/9.128aac65.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3a90c97e.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/pikachu.jpg" alt="Ming" class="logo"> <span class="site-name can-hide">Ming</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/pages/5bf4bd/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5bf4bd/" class="nav-link">VUE2</a></li><li class="dropdown-item"><!----> <a href="/pages/76f6e5/" class="nav-link">VUE3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/pages/42d66a/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/42d66a/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/7ac60e/" class="nav-link">JUC</a></li><li class="dropdown-item"><!----> <a href="/pages/a18ea7/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/b4e263/" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/9d202d/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><!----> <span class="title" style="display:;">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e414ca/" aria-current="page" class="nav-link router-link-exact-active router-link-active">linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/43d728/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/43d728/" class="nav-link">SQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4af2ba/" class="nav-link">MyBatis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/pages/b70403/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b70403/" class="nav-link">软件使用</a></li><li class="dropdown-item"><!----> <a href="/pages/4c6801/" class="nav-link">工具类</a></li><li class="dropdown-item"><h4>在线工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://raw.hellogithub.com/hosts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  githubHosts
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://convertio.co/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文件转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.lu/coderunner/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码在线运行
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/jmh9966" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/pages/5bf4bd/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5bf4bd/" class="nav-link">VUE2</a></li><li class="dropdown-item"><!----> <a href="/pages/76f6e5/" class="nav-link">VUE3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/pages/42d66a/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/42d66a/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/7ac60e/" class="nav-link">JUC</a></li><li class="dropdown-item"><!----> <a href="/pages/a18ea7/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/b4e263/" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/9d202d/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><!----> <span class="title" style="display:;">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e414ca/" aria-current="page" class="nav-link router-link-exact-active router-link-active">linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/43d728/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/43d728/" class="nav-link">SQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4af2ba/" class="nav-link">MyBatis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/pages/b70403/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b70403/" class="nav-link">软件使用</a></li><li class="dropdown-item"><!----> <a href="/pages/4c6801/" class="nav-link">工具类</a></li><li class="dropdown-item"><h4>在线工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://raw.hellogithub.com/hosts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  githubHosts
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://convertio.co/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文件转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.lu/coderunner/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码在线运行
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/jmh9966" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e414ca/" aria-current="page" class="active sidebar-link">与Linux相关的知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/e414ca/#一、linux" class="sidebar-link">一、Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#查看已开放端口" class="sidebar-link">查看已开放端口</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#杀死进程" class="sidebar-link">杀死进程</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#centos7端口策略" class="sidebar-link">centos7端口策略</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#top使用" class="sidebar-link">TOP使用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/e414ca/#二、docker" class="sidebar-link">二、Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#_1语法" class="sidebar-link">①语法</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#_2使用" class="sidebar-link">②使用</a></li><li class="sidebar-sub-header level4"><a href="/pages/e414ca/#_1-安装mysql和redis" class="sidebar-link">1.安装mysql和redis</a></li><li class="sidebar-sub-header level4"><a href="/pages/e414ca/#_2-安装elasticsearch和kibana" class="sidebar-link">2.安装elasticsearch和kibana</a></li><li class="sidebar-sub-header level4"><a href="/pages/e414ca/#_3-安装nginx" class="sidebar-link">3.安装Nginx</a></li><li class="sidebar-sub-header level4"><a href="/pages/e414ca/#_4-安装portainer" class="sidebar-link">4.安装Portainer</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/e414ca/#三、mysql安装" class="sidebar-link">三、MySql安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#一、-安装前准备" class="sidebar-link">一、 安装前准备</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#二、-安装mysql" class="sidebar-link">二、 安装Mysql</a></li><li class="sidebar-sub-header level3"><a href="/pages/e414ca/#三、注意事项" class="sidebar-link">三、注意事项</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/e414ca/#四、jdk安装" class="sidebar-link">四、JDK安装</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>操作系统</span></li><li data-v-06225672><span data-v-06225672>linux</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/jmh9966" target="_blank" title="作者" class="beLink" data-v-06225672>J-Ming</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-11-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">与Linux相关的知识点<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="一、linux"><a href="#一、linux" class="header-anchor">#</a> 一、Linux</h2> <h3 id="查看已开放端口"><a href="#查看已开放端口" class="header-anchor">#</a> 查看已开放端口</h3> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code>firewall-cmd --list-ports
netstat -nupl (UDP类型的端口)
netstat -ntpl (TCP类型的端口)
<span class="token comment"># 查看远程端口是否开放</span>
telnet 127.0.0.1 1025//telnet IP 端口号
<span class="token comment">#查看端口占用</span>
netstat -tunlp | grep 端口号
ps -ef | grep nginx
</code></pre></div><h3 id="杀死进程"><a href="#杀死进程" class="header-anchor">#</a> 杀死进程</h3> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token comment"># 查看正在运行的进程</span>
netstat -tpnul
<span class="token comment"># 查看进程详情</span>
ps aux |grep program_name 
<span class="token comment"># 杀死进程</span>
kill -9 id
</code></pre></div><h3 id="centos7端口策略"><a href="#centos7端口策略" class="header-anchor">#</a> centos7端口策略</h3> <p>1.修改ssh默认登录端口</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code> <span class="token comment"># 修改port后面的22</span>
 vi /etc/ssh/sshd_config
</code></pre></div><p>2.防火墙状态</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code> systemctl status firewalld
 systemctl start firewalld  
 systemctl stop firewalld
 <span class="token comment"># 禁止开机自启</span>
 systemctl disable firewalld.service
</code></pre></div><p>3.端口是否开放</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code> <span class="token comment"># 指定端口号</span>
 firewall-cmd --query-port=6379/tcp
 <span class="token comment"># 所有开放端口</span>
 firewall-cmd --list-port
</code></pre></div><p>4.添加需要开放的端口</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code> <span class="token comment"># 添加</span>
 firewall-cmd --add-port=123/tcp --permanent
 <span class="token comment"># 载入</span>
 firewall-cmd --reload
</code></pre></div><p>5.移除指定端口：</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code>firewall-cmd --permanent --remove-port=123/tcp
</code></pre></div><p>6.说明</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code> <span class="token comment"># 作用域</span>
 -zone 
 <span class="token comment"># 永久生效，没有此参数重启后失效</span>
 --permanent 
</code></pre></div><h3 id="top使用"><a href="#top使用" class="header-anchor">#</a> TOP使用</h3> <div class="language-shell extra-class"><pre class="language-shell"><code> top：启动top命令
 <span class="token function">top</span> -c：显示完整的命令行
 <span class="token function">top</span> -b：以批处理模式显示程序信息
 <span class="token function">top</span> -S：以累积模式显示程序信息
 <span class="token function">top</span> <span class="token parameter variable">-n</span> <span class="token number">2</span>：表示更新两次后终止更新显示
 <span class="token function">top</span> <span class="token parameter variable">-d</span> <span class="token number">3</span>：设置信息更新周期为3秒
 <span class="token function">top</span> <span class="token parameter variable">-p</span> <span class="token number">139</span>：显示进程号为139的进程信息，CPU、内存占用率等
 <span class="token function">top</span> <span class="token parameter variable">-n</span> <span class="token number">10</span>：显示更新十次后退出
</code></pre></div><p>默认进入top时，各进程是按照CPU的占用量来排序的。</p> <ol><li>在top基本视图中，按键盘数字“1”可以监控每个逻辑CPU的状况</li> <li>默认单位是<code>KiB</code>，使用按键<code>E</code>可以切换为<code>MiB</code>、<code>GiB</code>、<code>TiB</code>、<code>PiB</code>、<code>EiB</code></li></ol> <p>任务字段介绍</p> <ul><li><p><code>%CPU</code>： <code>CPU Usage</code>，自上次屏幕更新以来任务占用的CPU时间份额，表示为总CPU时间的百分比。</p></li> <li><p><code>%MEM</code>： <code>Memory Usage</code>，进程使用的物理内存百分比</p></li> <li><p><code>CODE</code>：<code>Code Size</code>，可执行代码占用的物理内存量</p></li> <li><p><code>COMMAND</code>：<code>Command Name or Command Line</code>，用于显示输入的命令行或者程序名称</p></li> <li><p><code>PID</code>：<code>Process Id</code>，任务独立的<code>ID</code>，即进程<code>ID</code></p></li> <li><p><code>PPID</code>：<code>Parent Process Id</code>，父进程<code>ID</code></p></li> <li><p><code>UID</code>：<code>User Id</code>，任务所有者的用户<code>ID</code></p></li> <li><p><code>USER</code>：<code>User Name</code>，用户名</p></li> <li><p><code>RUSER</code>：<code>Real User Name</code>，实际的用户名</p></li> <li><p><code>TTY</code>：<code>Controlling Tty</code>，控制终端名称</p></li> <li><p><code>TIME</code>：<code>CPU TIME</code>，该任务<code>CPU</code>总共运行的时间</p></li> <li><p><code>TIME+</code>：同<code>TIME</code>，其粒度更细</p></li> <li><p><code>OOMa</code>：<code>Out of Memory Adjustment Factor</code>，内存溢出调整机制，这个字段会被增加到当前内存溢出分数中，来决定什么任务会被杀掉，范围是-1000到+1000。</p></li> <li><p><code>OOMs</code>：<code>Out of Memory Score</code>，内存溢出分数，这个字段是用来选择当内存耗尽时杀掉的任务，范围是0到+1000。0的意思是绝不杀掉，1000的意思是总是杀掉。</p></li> <li><p><code>S</code>：<code>Process Status</code>，表示进程状态信息</p></li> <li><ul><li><code>D</code>： 不可中断休眠</li> <li><code>I</code>：空闲</li> <li><code>R</code>：运行中</li> <li><code>S</code>：休眠</li> <li><code>T</code>：被任务控制信号停止</li> <li><code>t</code>：在跟踪期间被调试器停止</li> <li><code>Z</code>：僵尸</li></ul></li></ul> <p>交互命令</p> <table><thead><tr><th>命令</th> <th>功能</th></tr></thead> <tbody><tr><td>h、?</td> <td>帮助信息查看，涵盖所有的快捷键</td></tr> <tr><td>空格、回车按键</td> <td>手动刷新界面信息</td></tr> <tr><td>q、ESC按键</td> <td>退出</td></tr> <tr><td>B</td> <td>粗体显示功能</td></tr> <tr><td>d、s</td> <td>改变间隔时间</td></tr> <tr><td>E、e</td> <td>切换内存显示的单位，从KiB到EiB</td></tr> <tr><td>g</td> <td>然后输入1-4其中一个数字，选择哪种窗口（1.默认，2.任务，3.内存，4.用户）</td></tr> <tr><td>H</td> <td>进程、线程显示切换</td></tr> <tr><td>k</td> <td>输入PID信息，杀掉一个任务</td></tr> <tr><td>Z</td> <td>改变配色</td></tr> <tr><td>P</td> <td>CPU 占用率大小的顺序排列进程列表</td></tr> <tr><td>M</td> <td>以内存占用率大小的顺序排列进程列表</td></tr></tbody></table> <h2 id="二、docker"><a href="#二、docker" class="header-anchor">#</a> 二、Docker</h2> <h3 id="_1语法"><a href="#_1语法" class="header-anchor">#</a> ①语法</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看运行的日志看问题出在哪里</span>
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> 容器ID
</code></pre></div><h3 id="_2使用"><a href="#_2使用" class="header-anchor">#</a> ②使用</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#https://docs.docker.com/engine/install/centos/</span>
<span class="token comment">##Uninstall old versions</span>
<span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
<span class="token comment">##SET UP THE REPOSITORY</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
<span class="token comment">##INSTALL DOCKER ENGINE</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
<span class="token comment">#设置开机自启</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token comment">#查看运行的日志看问题出在哪里</span>
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> 容器ID
</code></pre></div><h4 id="_1-安装mysql和redis"><a href="#_1-安装mysql和redis" class="header-anchor">#</a> 1.安装mysql和redis</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull mysql:5.7
<span class="token comment">#进入容器内部</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql /bin/bash
<span class="token comment">#启动容器 -v为挂载文件路径</span>
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/log:/var/log/mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/data:/var/lib/mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/conf:/etc/mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> mysql:5.7 <span class="token punctuation">\</span>
<span class="token parameter variable">--lower_case_table_names</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token comment">#redis</span>
<span class="token function">docker</span> pull redis
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/redis/conf
<span class="token function">touch</span> /mydata/redis/conf/redis.conf
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">--name</span> redis <span class="token parameter variable">-v</span> /mydata/redis/data:/data <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/redis/conf/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> redis redis-server /etc/redis/redis.conf
<span class="token comment">#开启持久化</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;appendonly yes&quot;</span>  <span class="token operator">&gt;&gt;</span> /mydata/redis/conf/redis.conf
</code></pre></div><h4 id="_2-安装elasticsearch和kibana"><a href="#_2-安装elasticsearch和kibana" class="header-anchor">#</a> 2.安装elasticsearch和kibana</h4> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code>docker pull elasticsearch:7.4.2
docker pull kibana:7.4.2
<span class="token comment"># 创建一个保存elasticsearch配置的文件夹</span>
mkdir -p /mydata/elasticsearch/config
<span class="token comment"># 创建一个保存elasticsearch数据的文件夹</span>
mkdir -p /mydata/elasticsearch/data
<span class="token comment"># 允许任何远程机器访问</span>
echo &quot;http.host: 0.0.0.0&quot; &gt;&gt; /mydata/elasticsearch/config/elasticsearch.yml
<span class="token comment"># 创建容器并启动</span>
docker run --name elasticsearch -p 9200:9200 -p 9300:9300 \
-e &quot;discovery.type=single-node&quot; \
-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot; \
-v /mydata/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml \
-v /mydata/elasticsearch/data:/usr/share/elasticsearch/data \
-v /mydata/elasticsearch/plugins:/usr/share/elasticsearch/plugins \
-d elasticsearch:7.4.2

<span class="token comment">##其中elasticsearch.yml是挂载的配置文件，data是挂载的数据，plugins是es的插件，如ik，而数据挂载需要权限，需要设置data文件的权限为可读可写,需要下边的指令。</span>
<span class="token comment">##chmod -R 777 要修改的路径</span>
<span class="token comment">##-e &quot;discovery.type=single-node&quot; 设置为单节点</span>
<span class="token comment">##特别注意：</span>
<span class="token comment">##-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx128m&quot; \ 测试环境下,设置ES的初始内存和最大内存，否则会占用全部内存</span>
<span class="token comment"># 启动kibana</span>
docker run --name kibana -e ELASTICSEARCH_HOSTS=http://192.168.56.10:9200 -p 5601:5601 \
-d kibana:7.4.2

</code></pre></div><h4 id="_3-安装nginx"><a href="#_3-安装nginx" class="header-anchor">#</a> 3.安装Nginx</h4> <p>随便启动一个nginx实例，复制出配置</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull nginx:1.10
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-d</span> nginx:1.10
</code></pre></div><p>将容器内的配置文件拷贝到/mydata/nginx/conf/ 下</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 方法一</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/nginx/html
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/nginx/logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/nginx/conf
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/nginx/conf.d
<span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/nginx.conf  /mydata/nginx/conf/
<span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/conf.d/default.conf /mydata/nginx/conf.d
<span class="token comment">#进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nginx /bin/bash
<span class="token comment">#由于拷贝完成后会在config中存在一个nginx文件夹，所以需要将它的内容移动到conf中</span>
<span class="token function">mv</span> /mydata/nginx/conf/nginx/* /mydata/nginx/conf/
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /mydata/nginx/conf/nginx

<span class="token comment">#方法二</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mydata/nginx
<span class="token comment">##.代表当前目录</span>
<span class="token function">docker</span> container <span class="token function">cp</span> nginx:/etc/nginx <span class="token builtin class-name">.</span>
<span class="token function">mv</span> nginx conf
<span class="token function">mkdir</span> nginx
<span class="token function">mv</span> conf nginx/
</code></pre></div><p>停止和删除容器</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code>docker stop nginx
docker rm nginx
</code></pre></div><p>创建新的Nginx，执行以下命令</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">--name</span> nginx <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /mydata/nginx/html:/usr/share/nginx/html <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /mydata/nginx/logs:/var/log/nginx <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /mydata/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /mydata/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf <span class="token punctuation">\</span>
 <span class="token parameter variable">-d</span> nginx:1.10
</code></pre></div><p>设置开机启动nginx</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> update nginx <span class="token parameter variable">--restart</span><span class="token operator">=</span>always
</code></pre></div><p>创建“/mydata/nginx/html/index.html”文件，测试是否能够正常访问</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'&lt;h2&gt;hello nginx!&lt;/h2&gt;'</span> <span class="token operator">&gt;</span>index.html
</code></pre></div><h4 id="_4-安装portainer"><a href="#_4-安装portainer" class="header-anchor">#</a> 4.安装Portainer</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull portainer/portainer
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9000</span>:9000 <span class="token parameter variable">-p</span> <span class="token number">8000</span>:8000 <span class="token parameter variable">--name</span> portainer <span class="token punctuation">\</span>
<span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /mydata/portainer/data:/data <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> portainer/portainer
</code></pre></div><h2 id="三、mysql安装"><a href="#三、mysql安装" class="header-anchor">#</a> 三、MySql安装</h2> <h3 id="一、-安装前准备"><a href="#一、-安装前准备" class="header-anchor">#</a> 一、 安装前准备</h3> <p>1、检查是否已经安装过mysql，执行命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep mysql</span>
</code></pre></div><p>若已安装，执行</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># rpm -e --nodeps mysql-libs-5.1.73-5.el6_6.x86_64</span>
</code></pre></div><p>再次执行查询命令，查看是否删除</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep mysql</span>
</code></pre></div><p>2、查询所有Mysql对应的文件夹</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># whereis mysql</span>
mysql: /usr/bin/mysql /usr/include/mysql
<span class="token punctuation">[</span>root@localhost lib<span class="token punctuation">]</span><span class="token comment"># find / -name mysql</span>
/data/mysql
/data/mysql/mysql
</code></pre></div><p>删除相关目录或文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  rm -rf /usr/bin/mysql /usr/include/mysql /data/mysql /data/mysql/mysql </span>
</code></pre></div><p>验证是否删除完毕</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># whereis mysql</span>
mysql:
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># find / -name mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre></div><p>3、检查mysql用户组和用户是否存在，如果没有，则创建</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cat /etc/group | grep mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd |grep mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># groupadd mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># useradd -r -g mysql mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre></div><p>4、从官网下载是用于Linux的Mysql安装包</p> <p>下载命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz</span>
</code></pre></div><p>也可以直接到<a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%3A%2F%2Fdev.mysql.com%2Fdownloads%2Fmysql%2F" target="_blank" rel="noopener noreferrer">mysql官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>选择其他版本进行下载。</p> <h3 id="二、-安装mysql"><a href="#二、-安装mysql" class="header-anchor">#</a> 二、 安装Mysql</h3> <p>1、在执行<strong>wget</strong>命令的目录下或你的上传目录下找到Mysql安装包：<strong>mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz</strong>
执行解压命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  tar xzvf mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># ls</span>
mysql-5.7.24-linux-glibc2.12-x86_64
mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz
</code></pre></div><p>解压完成后，可以看到当前目录下多了一个解压文件，移动该文件到**/usr/local/mysql**
执行移动命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># mv mysql-5.7.30-linux-glibc2.12-x86_64 /usr/local/mysql</span>
</code></pre></div><p>2、在**/usr/local/mysql**目录下创建data目录</p> <div class="language-text extra-class"><pre class="language-text"><code>[root@localhost /]# mkdir /usr/local/mysql/data
</code></pre></div><p>3、更改mysql目录下所有的目录及文件夹所属的用户组和用户，以及权限</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># chown -R mysql:mysql /usr/local/mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># chmod -R 755 /usr/local/mysql</span>
</code></pre></div><p>4、编译安装并初始化mysql,<strong>务必记住初始化输出日志末尾的密码（数据库管理员临时密码）</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/mysql/bin</span>
<span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment"># ./mysqld --initialize --user=mysql --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql</span>
</code></pre></div><p><em><strong>补充说明：</strong></em></p> <p>此时可能会出现错误：<strong>cannot open shared object file:xxx</strong></p> <p>出现该问题首先检查该链接库文件有没有安装使用 命令进行核查</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep libaio   </span>
<span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre></div><p>运行命令后发现系统中无该链接库文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment">#  yum install  libaio-devel.x86_64</span>
</code></pre></div><p>安装成功后，继续运行数据库的初始化命令，此时可能会出现如下错误：<strong>cannot open shared object file:xxx</strong></p> <p>执行如下命令后，再次运行数据库的初始化命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment">#  yum -y install numactl</span>
</code></pre></div><p>5、运行初始化命令成功后，输出日志如下：</p> <p><strong>A temporary password xxxx for root@localhost:</strong><font color="red">xxx</font></p> <p>记录日志最末尾位置**root@localhost:**后的字符串xxx，此字符串为mysql管理员临时登录密码。</p> <p>6、编辑配置文件my.cnf，添加配置如下</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment">#  vi /etc/my.cnf</span>
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token assign-left variable">datadir</span><span class="token operator">=</span>/usr/local/mysql/data
port <span class="token operator">=</span> <span class="token number">3306</span>
<span class="token assign-left variable">sql_mode</span><span class="token operator">=</span>NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
symbolic-links<span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">max_connections</span><span class="token operator">=</span><span class="token number">400</span>
<span class="token assign-left variable">innodb_file_per_table</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token comment">#表名大小写不明感，敏感为</span>
<span class="token assign-left variable">lower_case_table_names</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><p>7、启动mysql服务器</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># /usr/local/mysql/support-files/mysql.server start</span>
</code></pre></div><p>如果出现如下提示信息</p> <div class="language-text extra-class"><pre class="language-text"><code>Starting MySQL... ERROR! The server quit without updating PID file
</code></pre></div><p>查看是否存在mysql和mysqld的服务，如果存在，则结束进程，再重新执行启动命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment">#查询服务</span>
<span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> mysql
<span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> mysqld
<span class="token comment">#结束进程</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> PID
<span class="token comment">#启动服务</span>
 /usr/local/mysql/support-files/mysql.server start
</code></pre></div><p>8、添加软连接，并重启mysql服务</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  ln -s /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql </span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  ln -s /usr/local/mysql/bin/mysql /usr/bin/mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  service mysql restart</span>
</code></pre></div><p>9、登录mysql，修改密码(密码为步骤5生成的临时密码)</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment">#  mysql -u root -p</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># mysql&gt;set password for root@localhost = password('yourpass');</span>
mysql<span class="token operator">&gt;</span><span class="token keyword">SET</span> PASSWORD <span class="token operator">=</span> PASSWORD <span class="token punctuation">(</span><span class="token string">'your new password'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> PASSWORD EXPIRE NEVER<span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span>flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre></div><p>10、开放远程连接</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span><span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
msyql<span class="token operator">&gt;</span><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> <span class="token keyword">user</span><span class="token punctuation">.</span>Host<span class="token operator">=</span><span class="token string">'%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token punctuation">.</span><span class="token keyword">User</span><span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span>flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre></div><p>11、设置开机自动启动</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 1、将服务文件拷贝到init.d下，并重命名为mysql</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld</span>
<span class="token comment"># 2、赋予可执行权限</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># chmod +x /etc/init.d/mysqld</span>
<span class="token comment"># 3、添加服务</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># chkconfig --add mysqld</span>
<span class="token comment"># 4、显示服务列表</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>
</code></pre></div><h3 id="三、注意事项"><a href="#三、注意事项" class="header-anchor">#</a> 三、注意事项</h3> <ul><li>初始化密码忘记</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 在[mysqld]下加入跳过验证 skip-grant-tables</span>
<span class="token function">vi</span> /etc/my.cnf
<span class="token comment"># 重启</span>
<span class="token function">service</span> mysql restart
mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
<span class="token comment"># 修改密码</span>
mysql<span class="token operator">&gt;</span> UPDATE mysql.user <span class="token builtin class-name">set</span> <span class="token assign-left variable">authentication_string</span><span class="token operator">=</span>password<span class="token punctuation">(</span><span class="token string">'123456Aa@'</span><span class="token punctuation">)</span> where <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
<span class="token comment"># 初始化密码</span>
mysql<span class="token operator">&gt;</span> alter user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'root'</span><span class="token punctuation">;</span>
<span class="token comment"># 注释或删掉 skip-grant-tables 重启mysql</span>
</code></pre></div><ul><li>ERROR 2002 (HY000): Can’t connect to local MySQL server through <a href="https://so.csdn.net/so/search?q=socket&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">socket<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ‘/tmp/mysql.sock’ (2)</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock</span>
</code></pre></div><h2 id="四、jdk安装"><a href="#四、jdk安装" class="header-anchor">#</a> 四、JDK安装</h2> <ol><li><p>解压安装包到/usr/local/java/</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> /home/xxx/tool/jdk-8u271-linux-x64.tar.gz <span class="token parameter variable">-C</span> /usr/local/java/
</code></pre></div></li> <li><p>配置环境变量</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment">#root用户下</span>
<span class="token function">vim</span> /etc/profile
<span class="token comment"># 普通用户下</span>
<span class="token builtin class-name">cd</span>  ~
<span class="token function">vim</span> .bash_profile
</code></pre></div></li> <li><p>编辑环境变量</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/java/jdk1.8.0_271
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/jre
</code></pre></div></li> <li><p>刷新环境变量</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">source</span> /etc/profile
<span class="token builtin class-name">source</span> .bash_profile
</code></pre></div></li></ol></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/06/11, 17:58:30</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xugaoyi" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2024-2024
    <span>Evan Xu | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d03864eb.js" defer></script><script src="/assets/js/2.75e49976.js" defer></script><script src="/assets/js/12.2d3eb3ab.js" defer></script>
  </body>
</html>
